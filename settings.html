
<!DOCTYPE html>
<html lang="es"><head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Configuraci√≥n ‚Äî OSI (v22s5)</title>
<style>
:root{ --bg:#f7f7fb; --fg:#111; --muted:#666; --border:#e4e7ec; --primary:#0d6efd }
*{ box-sizing:border-box } body{ margin:0; font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif; background:var(--bg); color:var(--fg) }
.container{ max-width:760px; margin:0 auto; padding:16px }
.card{ background:#fff; border:1px solid var(--border); border-radius:16px; padding:16px; box-shadow:0 1px 2px rgba(16,24,40,.04) }
.grid{ display:grid; grid-template-columns:1fr; gap:10px }
button{ padding:12px; border:1px solid var(--border); border-radius:10px; background:#fff; font-weight:600; width:100%; min-height:44px }
button.primary{ background:var(--primary); color:#fff; border-color:var(--primary) }
input,select{ width:100%; padding:10px; border:1px solid var(--border); border-radius:10px; min-height:40px }
label{ font-size:12px; color:#344054; display:block; margin-top:8px }
small{ color:var(--muted) }
table{ width:100%; border-collapse:collapse; margin-top:12px } th,td{ border:1px solid var(--border); padding:8px; font-size:14px } th{ background:#f2f4f7; text-align:left }
.modal{ position:fixed; inset:0; background:rgba(0,0,0,.4); display:none; align-items:center; justify-content:center; z-index:70 }
.modal > div{ background:#fff; border:1px solid var(--border); border-radius:12px; max-width:900px; width:94%; padding:16px }
.role-chip{ display:inline-block; padding:4px 8px; border:1px solid var(--border); border-radius:999px; margin:2px; font-size:12px }
</style></head><body>
<div class="container">
  <div class="card">
    <h2 style="margin:0 0 12px 0">Configuraci√≥n</h2>
    <div class="grid">
      <button id="btnInstall">üì• Instalar app</button>
      <button id="btnShareLink">üîó Compartir enlace</button>
      <button id="btnManage">üë• Gestionar personal</button>
    </div>
    <h3 style="margin:16px 0 8px 0">Cambiar PIN</h3>
    <label>Nuevo PIN Encargado</label>
    <input id="pinEnc" type="password" inputmode="numeric" placeholder="Nuevo PIN Encargado">
    <label>Nuevo PIN Supervisor</label>
    <input id="pinSup" type="password" inputmode="numeric" placeholder="Nuevo PIN Supervisor">
    <div class="grid" style="margin-top:10px">
      <button id="btnUpdatePins" class="primary">Actualizar PIN(es)</button>
      <a href="index.html?v=22s5" style="text-decoration:none"><button>‚Üê Volver</button></a>
    </div>
    <p><small>Build 22s5 ‚Ä¢ Si algo no se actualiza, borra cach√© desde la p√°gina principal.</small></p>
  </div>
</div>

<div id="modalPersonal" class="modal">
  <div>
    <h3 style="margin:0 0 8px 0">Cat√°logo de Personal</h3>
    <div style="display:grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap:10px">
      <input id="empNum" placeholder="N√∫mero de empleado">
      <input id="empNombre" placeholder="Nombre y apellido">
      <div>
        <label><input type="checkbox" class="role" value="Encargado"> Encargado</label><br>
        <label><input type="checkbox" class="role" value="Supervisor"> Supervisor</label><br>
        <label><input type="checkbox" class="role" value="Operario"> Operario</label><br>
        <label><input type="checkbox" class="role" value="Administraci√≥n"> Administraci√≥n</label>
      </div>
      <button id="empAgregar" class="primary">Agregar</button>
    </div>

    <table>
      <thead><tr><th>N√∫mero</th><th>Nombre</th><th>Roles</th><th>Activo</th><th>Acciones</th></tr></thead>
      <tbody id="tbPersonal"></tbody>
    </table>

    <div style="display:flex; gap:8px; flex-wrap:wrap; margin-top:10px">
      <button id="btnExport">‚¨áÔ∏è Exportar JSON</button>
      <input id="fileImport" type="file" accept="application/json">
      <button id="btnImport">‚¨ÜÔ∏è Importar JSON</button>
      <button id="pCerrar">Cerrar</button>
    </div>
    <p><small>Consejo: marca los roles adecuados. Encargados, Supervisores y Operarios se usar√°n como listas filtradas en la OSI.</small></p>
  </div>
</div>

<script src="settings.js?v=22s5"></script>
</body></html>
